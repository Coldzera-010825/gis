{"version":2,"kind":"Notebook","sha256":"5036d8774dc924f3c009aaf4b9fae191ddf6e786bc3dddecfa2c1242f8f71de5","slug":"kml-ouput","location":"/geoprocessing_code/geocode/kml_ouput.ipynb","dependencies":[],"frontmatter":{"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"numbering":{"title":{"offset":2}},"exports":[{"format":"ipynb","filename":"kml_ouput.ipynb","url":"/kml_ouput-c618249f73d4d9a802c09875a69278f3.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import math\n\n# Center coordinates 这里更改中心坐标点\nlat0 = 39.8510179\nlon0 = 116.219730\n\n# Calculate half side length (meters) for a 10 km² square 这里可以更改数据范围，以10平方公里为例\nhalf_side = math.sqrt(10_000_000) / 2  # ~1581.14 m\n\n# Approximate degrees per meter \ndelta_lat = half_side / 111320  # degrees latitude per meter\nlat0_rad = math.radians(lat0)\ndelta_lon = half_side / (111320 * math.cos(lat0_rad))  # degrees longitude per meter\n\n# Calculate square corner coordinates (lon, lat)\ncoords = [\n    (lon0 - delta_lon, lat0 - delta_lat),\n    (lon0 + delta_lon, lat0 - delta_lat),\n    (lon0 + delta_lon, lat0 + delta_lat),\n    (lon0 - delta_lon, lat0 + delta_lat),\n    (lon0 - delta_lon, lat0 - delta_lat)\n]\n\n# Build KML content\nkml_content = \"\"\"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<kml xmlns=\"http://www.opengis.net/kml/2.2\">\n  <Placemark>\n    <name>10km² Square Area</name>\n    <Polygon>\n      <outerBoundaryIs>\n        <LinearRing>\n          <coordinates>\n\"\"\"\nfor lon, lat in coords:\n    kml_content += f\"            {lon},{lat},0\\n\"\nkml_content += \"\"\"          </coordinates>\n        </LinearRing>\n      </outerBoundaryIs>\n    </Polygon>\n  </Placemark>\n</kml>\n\"\"\"\n\n# Write to file\nfile_path = \"/kml/square_10km2.kml\"\nwith open(file_path, \"w\", encoding=\"utf-8\") as f:\n    f.write(kml_content)\n\nfile_path\n","key":"ZrDypiz6cX"},{"type":"output","id":"bTgyXcaKQ3_47mTD3sud8","data":[{"output_type":"execute_result","execution_count":1,"metadata":{},"data":{"text/plain":{"content":"'C:/Users/lishuhao/Desktop/kml输出代码/square_10km2.kml'","content_type":"text/plain"}}}],"key":"Fn4wsxAuQn"}],"key":"wpvcutRjox"}],"key":"UPG2YxyfSH"},"references":{"cite":{"order":[],"data":{}}}}